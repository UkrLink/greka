<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">
<html>
<head>
<title>Ехал грека через реку</title>
<style type="text/css">
.stdout_c {
  border: 1px outset black;
  background: #fff;
  width: 80%;
  height: 80%;
}
</style>
</head>
<body>
<div>
  <label>Введите объект: </label>
  <input class="stdin" />
  <button onclick="gen();">
    Го
  </button>
  <br/>
  <br/>
  <div class="stdout_c">
    <em class="stdout">Здесь будет результат</em>
  </div>
</div>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" type="text/javascript">
</script>
<script type="text/javascript">
String.prototype.replaceAt = function(index, replacement) {
  return this.substr(0, index) + replacement + this.substr(index + replacement.length);
}
function gen() {
  var initial = document.getElementsByClassName("stdin")[0].value;
  var forms = [];
  var modified = initial;
  modified = initial.replaceAt(initial.length - 1, "у");
  forms.push(modified);
  modified = initial.replaceAt(initial.length - 1, "е");
  forms.push(modified);
  modified = initial.replaceAt(initial.length - 1, "");
  forms.push(modified);
  if (initial.slice(-1) == "а" || initial.slice(-1) == "о") {
    //<![CDATA[
    result = "Едет " + initial + " через " + forms[0] + ", видит " + initial + " в " + forms[1] + " - " + initial + ".<br/>Сунул " + initial + " в " + forms[0] + " " + forms[0] + ".<br/>" + initial + "," + initial + "," + initial + "," + initial;
    //]]>
  } else {
    //<![CDATA[
    result = "Едет " + initial + " через " + initial + ", видит " + initial + " в " + initial + " - " + initial + ".<br/>Сунул " + initial + " в " + initial + " " + initial + ".<br/>" + initial + "," + initial + "," + initial + "," + initial;
    //]]>
  }
  document.getElementsByClassName("stdout")[0].innerHTML = result;
}
</script>
</body>
</html>
